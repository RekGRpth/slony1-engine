%META:TOPICINFO{author="guest" date="1097691381" format="1.0" version="1.4"}%
%META:TOPICPARENT{name="SlonyIAdministration"}%
*Introduction*

Slonik is a command line utility designed specifically to setup and modify configurations of the Slony-I replication system.

*General outline*

The slonik command line utility is supposed to be used embedded into shell scripts and reads commands from files or stdin.  

It reads a set of Slonik statements, which are written in a scripting language with syntax similar to that of SQL, and performs the set of configuration changes on the slony nodes specified in the script.

Nearly all of the real configuration work is actually done by calling stored procedures after loading the Slony-I support base into a database.  Slonik was created because these stored procedures have special requirements as to on which particular node in the replication system they are called.  The absence of named parameters for stored procedures makes it rather hard to do this from the psql prompt, and psql lacks the ability to maintain multiple connections with open transactions to multiple databases.

The format of the Slonik "language" is very similar to that of SQL, and the parser is based on a similar set of formatting rules for such things as numbers and strings.  Note that slonik is declarative, using literal values throughout, and does _not_ have the notion of variables.  It is anticipated that Slonik scripts will typically be *generated* by scripts, such as Bash or Perl, and these sorts of scripting languages already have perfectly good ways of managing variables.

A detailed list of Slonik commands can be found here: [[http://gborg.postgresql.org/project/slony1/genpage.php?slonik_commands][http://gborg.postgresql.org/project/slony1/genpage.php?slonik_commands]]
