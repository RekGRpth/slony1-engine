%META:TOPICINFO{author="guest" date="1101234514" format="1.0" version="1.4"}%
%META:TOPICPARENT{name="SlonyIAdministration"}%
---++ Slony-I Installation

You should have obtained the Slony-I source from the previous step. Unpack it.

<verbatim>
gunzip slony.tar.gz
tar xf slony.tar
</verbatim>

This will create a directory Slony-I under the current directory with the Slony-I sources.  Head into that that directory for the rest of the installation procedure.

---+++ Short Version

<verbatim>
./configure --with-pgsourcetree=/whereever/the/source/is
gmake all
gmake install
</verbatim>

---+++ Configuration

The first step of the installation procedure is to configure the source tree
for your system.  This is done by running the configure script.  Configure
needs to know where your PostgreSQL source tree is, this is done with the
--with-pgsourcetree= option.

---+++ Example

<verbatim>
./configure --with-pgsourcetree=/usr/local/src/postgresql-7.4.3
</verbatim>

This script will run a number of tests to guess values for various dependent
variables and try to detect some quirks of your system.  Slony-I is known to
need a modified version of libpq on specific platforms such as Solaris2.X on
SPARC this patch can be found at [[http://developer.postgresql.org/~wieck/slony1/download/threadsafe-libpq-742.diff.gz][http://developer.postgresql.org/~wieck/slony1/download/threadsafe-libpq-742.diff.gz]].

---+++ Build

To start the build process, type

<verbatim>
gmake all
</verbatim>

Be sure to use GNU make; on BSD systems, it is called gmake; on Linux, GNU make is typically the native "make", so the name of the command you type in may vary somewhat. The build may take anywhere from a few seconds to 2 minutes depending on how fast your hardware is at compiling things.  The last line displayed should be
<verbatim>
All of Slony-I is successfully made.  Ready to install.
</verbatim>

---+++ Installing Slony-I

To install Slony-I, enter

<verbatim>
gmake install
</verbatim>

This will install files into postgresql install directory as specified by the
--prefix option used in the PostgreSQL configuration.  Make sure you have
appropriate permissions to write into that area.  Normally you need to do this either
as root or as the postgres user.`
