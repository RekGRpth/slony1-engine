<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Slonik</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:cbbrowne@gmail.com"><LINK
REL="HOME"
TITLE="Slony-I 1.1 Administration"
HREF="slony.html"><LINK
REL="UP"
HREF="t24.html"><LINK
REL="PREVIOUS"
TITLE=" Slony-I Installation"
HREF="installation.html"><LINK
REL="NEXT"
TITLE="Slony-I Concepts"
HREF="concepts.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stdstyle.css"><META
HTTP-EQUIV="Content-Type"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Slony-I 1.1 Administration</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="installation.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="concepts.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="SLONIK"
>4. Slonik</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN206"
>4.1. Introduction</A
></H2
><P
>Slonik is a command line utility designed specifically to setup
and modify configurations of the Slony-I replication system.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN209"
>4.2. General outline</A
></H2
><P
>The slonik command line utility is supposed to be used embedded
into shell scripts and reads commands from files or stdin.</P
><P
>It reads a set of Slonik statements, which are written in a
scripting language with syntax similar to that of SQL, and performs
the set of configuration changes on the slony nodes specified in the
script.</P
><P
>Nearly all of the real configuration work is actually done by
calling stored procedures after loading the Slony-I support base into
a database.  Slonik was created because these stored procedures have
special requirements as to on which particular node in the replication
system they are called.  The absence of named parameters for stored
procedures makes it rather hard to do this from the psql prompt, and
psql lacks the ability to maintain multiple connections with open
transactions to multiple databases.</P
><P
>The format of the Slonik "language" is very similar to that of
SQL, and the parser is based on a similar set of formatting rules for
such things as numbers and strings.  Note that slonik is declarative,
using literal values throughout, and does <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>not</I
></SPAN
> have the
notion of variables.  It is anticipated that Slonik scripts will
typically be <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>generated</I
></SPAN
> by scripts, such as Bash or Perl,
and these sorts of scripting languages already have perfectly good
ways of managing variables.</P
><P
>A detailed list of Slonik commands can be found here: <A
HREF="http://gborg.postgresql.org/project/slony1/genpage.php?slonik_commands"
TARGET="_top"
>slonik commands </A
></P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="installation.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="slony.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="concepts.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Slony-I Installation</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="t24.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Slony-I Concepts</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>