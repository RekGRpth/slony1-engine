# ----------
# Makefile.global.in
#
#	configure input for Makefile.global
#
#	Copyright (c) 2003-2004, PostgreSQL Global Development Group
#	Author: Jan Wieck, Afilias USA INC.
#
# $Id: Makefile.global.in,v 1.20 2004-12-17 00:32:17 darcyb Exp $
# ----------

#location subsitutions

pgincludedir=		@PGINCLUDEDIR@
pgincludeserverdir=	@PGINCLUDESERVERDIR@
pglibdir= 		@PGLIBDIR@
pgpkglibdir=		@PGPKGLIBDIR@
pgsharedir=		@PGSHAREDIR@
pgbindir=		@PGBINDIR@
distdir=		@SLONYPATH@/@PACKAGE_NAME@-@PACKAGE_VERSION@


host_os= 		@HOST_OS@
PORTNAME= 		@PORTNAME@
PACKAGE_NAME=		@PACKAGE_NAME@
PACKAGE=		@PACKAGE@

#build tools
CC=			@CC@
PTHREAD_CC=		@PTHREAD_CC@
YACC=			@YACC@
FLEX=			@LEX@

#build tool flags
CFLAGS=			@CFLAGS@
PTHREAD_CFLAGS= 	@PTHREAD_CFLAGS@
PTHREAD_LIBS=		@PTHREAD_LIBS@
YFLAGS=			@YFLAGS@
FLEXFLAGS=		@LEXFLAGS@ $(LFLAGS)

#libs
PTHREAD_LIBS=		@PTHREAD_LIBS@

# Documentation

JADE    = @JADE@
NSGMLS  = @NSGMLS@
SGMLSPL = @SGMLSPL@
PS2PDF  = @PS2PDF@
DJPEG   = @DJPEG@
GROFF	= @GROFF@
PNMTOPS = @PNMTOPS@
TAR	= @TAR@

subdir=$(slony_subdir)

override CPPFLAGS := -I${pgincludedir} -I${pgincludeserverdir} $(CPPFLAGS)
LDFLAGS =   -L${pglibdir} -L${pgpkglibdir} -lpq

ifeq ($(GCC), yes)
	CFLAGS += -Wall -Wmissing-prototypes -Wmissing-declarations
endif

# Installation.

INSTALL = $(SHELL) @SLONYPATH@/config/install-sh -c

INSTALL_PROGRAM = $(INSTALL)
INSTALL_SCRIPT  = $(INSTALL) -m 755
INSTALL_DATA    = $(INSTALL) -m 644
INSTALL_SHLIB   = $(INSTALL) $(INSTALL_SHLIB_OPTS)

mkinstalldirs   = $(SHELL) @SLONYPATH@/config/mkinstalldirs


# This is mainly for use on FreeBSD, where we have both a.out and elf
# systems now.  May be applicable to other systems to?
ELF_SYSTEM= true

# Pull in platform-specific magic
include @SLONYPATH@/Makefile.port

ifeq ($(enable_rpath), yes)
LDFLAGS += $(rpath)
endif
