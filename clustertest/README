The tests in this directory use the ClusterTest framework available
at http://github.com/clustertest/clustertest-framework

Their are two sets of tests that are included here.

disorder tests
------------------------

The disorder ("DIStributed ORDER") tests is a test suite designed to
simulate an retail store style of workload.  It includes transactions
for getting inventory, taking orders and counting inventory.

Some transactions run against the replication master while others
(read-only) run against slave databases.


To run the disorder tests.

1. Edit conf/database.properties

   * Sample found in conf/database.properties.sample, so that you can have your own copy
   * Update the pgsql.path files to point to your $PGBIN directory
   * Update any required connection information to point to the databases
     you wish to test. 
   * Update slonik.path and slon.path to point to the slonik and slon
     binaries you wish to test.


2.  Run test

Make sure PWD is set to the directory 'clustertest', as the tests make
reference to relative directory locations.  For instance, disorder
tests are assumed to be in the subdirectory 'disorder/tests'.

java  -jar $PATH_TO_CLUSTERTEST/clustertest-coordinator.jar conf/databases.properties disorder/tests/disorder_tests.js 

will run the test suite.

results/$TIMESTAMP/testResult.test.txt will contain the results of each test.
